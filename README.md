# Fluent Phantom 
A fluent interface for scraping web content in Node with the PhantomJS headless browser.  Its most notable feature is that, similar to waitFor.js, you can wait until the availability of content on a page, which comes in handy when scraping content generated by AJAX requests.

## Installation
Install via npm with:
```
npm install fluent-phantom
```

Note that this package depends on the [PhantomJS bridge for Node](https://github.com/sgentle/phantomjs-node), which assumes that you have already installed [PhantomJS](http://phantomjs.org/).

## Usage
The module should be easy to use (that was the point of writing it).  Just include it and describe your scraping actions.  Most examples are in CoffeeScript, but you get the point.

### Setup
Include the module with require and create a new request with the ```create()``` method.
```coffeescript
Request = require 'fluent-phantom'
req = Request.create()
```

```javascript
var Request = require('fluent-phantom'),
	req = Request.create()
```

### Extracting content using selectors
Extracting content by CSS selectors is straightforward - using the `select()` or
`extract()` grammar will create a request that waits for a selector to exist in 
the DOM (helpful if it's created by a long-running AJAX request), extract it,
and pass the results of the selection to a callback.

```coffeescript
Request.create()
	.select('#headlines li')
	.from('http://example.com/')
	.and().then((results) -> console.log results)
	.execute()
```


